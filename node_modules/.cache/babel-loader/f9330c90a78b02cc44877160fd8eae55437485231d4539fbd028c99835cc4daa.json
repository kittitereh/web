{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"d-flex flex-column align-items-stretch flex-shrink-0 bg-white\"\n};\nconst _hoisted_3 = {\n  class: \"d-flex align-items-center flex-shrink-0 p-3 link-dark text-decoration-none border-bottom\"\n};\nconst _hoisted_4 = {\n  class: \"list-group list-group-flush border-bottom scrollarea\"\n};\nconst _hoisted_5 = {\n  class: \"d-flex w-100 align-items-center justify-content-between\"\n};\nconst _hoisted_6 = {\n  class: \"mb-1\"\n};\nconst _hoisted_7 = {\n  class: \"col-10 mb-1 small\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"fs-5 fw-semibold\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.username = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.username]])]), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.messages, message => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"list-group-item list-group-item-action py-3 lh-tight\",\n      key: message\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"strong\", _hoisted_6, _toDisplayString(message.username), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_7, _toDisplayString(message.message), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $setup.submit && $setup.submit(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    placeholder: \"Write a message\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.message = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.message]])], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_cache","$event","$setup","username","_hoisted_4","_Fragment","_renderList","messages","message","key","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","onSubmit","_withModifiers","args","submit","placeholder"],"sources":["/home/kittitereh/Desktop/web-vue-project/src/views/Chats.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"d-flex flex-column align-items-stretch flex-shrink-0 bg-white\">\n      <div class=\"d-flex align-items-center flex-shrink-0 p-3 link-dark text-decoration-none border-bottom\">\n        <input class=\"fs-5 fw-semibold\" v-model=\"username\"/>\n      </div>\n      <div class=\"list-group list-group-flush border-bottom scrollarea\">\n        <div class=\"list-group-item list-group-item-action py-3 lh-tight\"\n             v-for=\"message in messages\" :key=\"message\">\n          <div class=\"d-flex w-100 align-items-center justify-content-between\">\n            <strong class=\"mb-1\">{{ message.username }}</strong>\n          </div>\n          <div class=\"col-10 mb-1 small\">{{ message.message }}</div>\n        </div>\n      </div>\n    </div>\n    <form @submit.prevent=\"submit\">\n      <input class=\"form-control\" placeholder=\"Write a message\" v-model=\"message\"/>\n    </form>\n  </div>\n</template>\n\n<script>\nimport {ref, onMounted} from 'vue';\nimport Pusher from 'pusher-js'\n\nexport default {\n  name: 'App',\n  setup() {\n    const username = ref('username');\n    const messages = ref([]);\n    const message = ref('');\n\n    onMounted(() => {\n      Pusher.logToConsole = true;\n\n    var pusher = new Pusher('3c04145be189389d1cb0', {\n      cluster: 'ap1'\n    });\n\n    var channel = pusher.subscribe('my-channel');\n    channel.bind('my-event', function(data) {\n      app.messages.push(JSON.stringify(data));\n    })\n  })\n\n    const submit = async () => {\n      await fetch('http://localhost:3030/api/messages', {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n          username: username.value,\n          message: message.value\n        })\n      })\n\n      message.value = '';\n    }\n\n    return {\n      username,\n      messages,\n      message,\n      submit\n    }\n  }\n}\n</script>\n\n<style>\n.scrollarea {\n  min-height: 500px;\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAA+D;;EACnEA,KAAK,EAAC;AAA0F;;EAGhGA,KAAK,EAAC;AAAsD;;EAGxDA,KAAK,EAAC;AAAyD;;EAC1DA,KAAK,EAAC;AAAM;;EAEjBA,KAAK,EAAC;AAAmB;;uBAXtCC,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBJC,mBAAA,CAaM,OAbNC,UAaM,GAZJD,mBAAA,CAEM,OAFNE,UAEM,G,gBADJF,mBAAA,CAAoD;IAA7CH,KAAK,EAAC,kBAAkB;IAJvC,uBAAAM,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAIiDC,MAAA,CAAAC,QAAQ,GAAAF,MAAA;iDAARC,MAAA,CAAAC,QAAQ,E,KAEnDN,mBAAA,CAQM,OARNO,UAQM,I,kBAPJT,mBAAA,CAMMU,SAAA,QAbdC,WAAA,CAQ+BJ,MAAA,CAAAK,QAAQ,EAAnBC,OAAO;yBADnBb,mBAAA,CAMM;MANDD,KAAK,EAAC,sDAAsD;MAC/Be,GAAG,EAAED;QACrCX,mBAAA,CAEM,OAFNa,UAEM,GADJb,mBAAA,CAAoD,UAApDc,UAAoD,EAAAC,gBAAA,CAA5BJ,OAAO,CAACL,QAAQ,iB,GAE1CN,mBAAA,CAA0D,OAA1DgB,UAA0D,EAAAD,gBAAA,CAAxBJ,OAAO,CAACA,OAAO,iB;sCAIvDX,mBAAA,CAEO;IAFAiB,QAAM,EAAAd,MAAA,QAAAA,MAAA,MAhBjBe,cAAA,KAAAC,IAAA,KAgB2Bd,MAAA,CAAAe,MAAA,IAAAf,MAAA,CAAAe,MAAA,IAAAD,IAAA,CAAM;sBAC3BnB,mBAAA,CAA6E;IAAtEH,KAAK,EAAC,cAAc;IAACwB,WAAW,EAAC,iBAAiB;IAjB/D,uBAAAlB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAiByEC,MAAA,CAAAM,OAAO,GAAAP,MAAA;iDAAPC,MAAA,CAAAM,OAAO,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}