{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  class: \"tour\"\n};\nconst _hoisted_3 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SearchBar = _resolveComponent(\"SearchBar\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_SearchBar), _createElementVNode(\"p\", null, _toDisplayString($setup.login), 1 /* TEXT */), _createElementVNode(\"button\", {\n    class: \"action-button\",\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.searchOnTags && _ctx.searchOnTags(...args))\n  }, \"Find a tour\"), $setup.tours.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.tours, tour => {\n    return _openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"h2\", null, _toDisplayString(tour.guide), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(tour.tour_description), 1 /* TEXT */), _createVNode(_component_router_link, {\n      to: {\n        name: 'Tour',\n        params: {\n          tour_id: tour.tour_id\n        }\n      }\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" Details \")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]);\n  }), 256 /* UNKEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_3, \" No tours found... Try another tags\"))]);\n}","map":{"version":3,"names":["key","class","_createElementBlock","_createVNode","_component_SearchBar","_createElementVNode","_toDisplayString","$setup","login","onClick","_cache","args","_ctx","searchOnTags","tours","length","_hoisted_1","_Fragment","_renderList","tour","_hoisted_2","guide","tour_description","_component_router_link","to","name","params","tour_id","default","_withCtx","_createTextVNode","_","_hoisted_3"],"sources":["/home/kittitereh/Desktop/web-vue-project/src/views/Home.vue"],"sourcesContent":["<template>\n  <div>\n    <SearchBar/>\n    <p>{{ login }}</p>\n    <button class=\"action-button\" @click=\"searchOnTags\">Find a tour</button>\n  \n    <div v-if=\"tours.length\"> \n      <div class=\"tour\" v-for=\"tour in tours\">\n          <h2> {{ tour.guide }}</h2>\n          <p> {{ tour.tour_description }}</p>\n          <router-link :to=\"{name: 'Tour', params:{tour_id: tour.tour_id}}\">\n              Details\n          </router-link>\n      </div>\n    </div>\n    <p v-else> No tours found... Try another tags</p>\n  </div>\n</template>\n\n<script>\nimport SearchBar from \"../components/SearchBar.vue\"\nimport router from \"../router\"\nimport { ref } from \"vue\"\n\nexport default {\n  name: 'Home',\n  components: {  SearchBar, router },\n  props: [login],\n  data(){\n    return{\n    }\n  },\n  setup(login){\n    const tours = ref([])\n    const error = ref([null])\n\n    const load = async () => {\n      try {\n        let data = await fetch('http://localhost:3000/tours')\n        if (!data.ok){\n          throw Error('no data available') \n        }\n        tours.value = await data.json()\n      }\n      catch (err) {\n        error.value = err.message\n        console.log(err.message)\n      }\n    }\n    login.value = login\n    load()\n    return {tours, error, login}\n},\n\n  methods:{\n    toggleLoginPopup(){\n      \n  },\n    toggleCreateAccountPopup(){\n      this.showCreateAccountPopup = !this.showCreateAccountPopup\n  },\n  // mounted(){\n  //     fetch('http://localhost:3000/tours')\n  //       .then(res => res.json())\n  //       .then(data => this.tours = data)\n  //       .catch(err => console.log(err.message))\n  //   },\n  }\n}\n\n</script>\n  \n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: 0px;\n  padding: 0px;\n  box-sizing: border-box;\n}\n\n</style>\n"],"mappings":";;EAAAA,GAAA;AAAA;;EAOWC,KAAK,EAAC;AAAM;;EAPvBD,GAAA;AAAA;;;;uBACEE,mBAAA,CAeM,cAdJC,YAAA,CAAYC,oBAAA,GACZC,mBAAA,CAAkB,WAAAC,gBAAA,CAAZC,MAAA,CAAAC,KAAK,kBACXH,mBAAA,CAAwE;IAAhEJ,KAAK,EAAC,eAAe;IAAEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAC,YAAA,IAAAD,IAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;KAAE,aAAW,GAEpDJ,MAAA,CAAAO,KAAK,CAACC,MAAM,I,cAAvBb,mBAAA,CAQM,OAdVc,UAAA,I,kBAOMd,mBAAA,CAMMe,SAAA,QAbZC,WAAA,CAOuCX,MAAA,CAAAO,KAAK,EAAbK,IAAI;yBAA7BjB,mBAAA,CAMM,OANNkB,UAMM,GALFf,mBAAA,CAA0B,YAAAC,gBAAA,CAAlBa,IAAI,CAACE,KAAK,kBAClBhB,mBAAA,CAAmC,WAAAC,gBAAA,CAA5Ba,IAAI,CAACG,gBAAgB,kBAC5BnB,YAAA,CAEcoB,sBAAA;MAFAC,EAAE;QAAAC,IAAA;QAAAC,MAAA;UAAAC,OAAA,EAAkCR,IAAI,CAACQ;QAAO;MAAA;;MAVxEC,OAAA,EAAAC,QAAA,CAU4E,MAElE,CAZVC,gBAAA,CAU4E,WAElE,E;MAZVC,CAAA;;uDAeI7B,mBAAA,CAAiD,KAfrD8B,UAAA,EAec,qCAAmC,G","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}